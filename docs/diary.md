# Untracked: Original diary entries before being translated to decision log

### 1. Decision: EC2 Architecture
*As, I am trying to save on costs, the only factors I really know is that I want to save on costs and that our app required around 210 MiB memory in local testing. This is why architecture and instance type were predefined by free tier eligibility and memory requirements, which are >=1 GiB memory to give the app some room to operate. But by researching this I learned a little about the difference between the older, more mature x86 (CISC based) architecture which is a 32-bit technology, about its extension x86_64 and about the newer alternative (RISC based) arm64 architecture. If I were not to focus on the free tier eligibility, I would have chosen a `t4.micro`, because it's a more modern, more cost- and power-efficient and almost always backwards-compatible software which is optimized for modern day workloads. Also, if the `t2.micro` would have had only 0.5MiB in working memory I would have chosen the next cheapest option with 1GiB memory, which would have been the `t4.micro`.*

*   **Choice and Justification:** Not entirely sure about the quality of my choice and if this will incur problems later, but I choose a `t2.micro` and as I don't have any experience in choosing AMIs but know that a random AMI could install random software on my instance, I default to what AWS is recommending which is the Amazon-Linux 2023 kernel-6.1 AMI
*   **Alternatives Considered:** `t4.micro`, ARM64 architecture.
*   **Risks:** The `t2.micro` could be the wrong choice performance-wise and, from the pooint on, where my free tier ends, onwards, also the wrong choice cost-wise.


*   **Access:** This is more a habit or a pattern I copied from my course instructor Adrian Cantrill but I don't entirely udnerstand why: I allow http connections to the Instance via a Security Group which allows all http connections from 0.0.0.0/0 on port 80 for HTTP. This part makes sense to me, although I don't know why someone would not set up https traffic only right away? But I also don't know yet hwo I would do it. I only know it's necessary.
The part I mostly copy and I don't fully understand is the SSH access, which will be the second kind of access which we will grant. At this stage to all incoming connections since my ISP might assign me dynamically changing IPs. In a production setting I'd white list only certain IPs. So, my guess for why the SSH access is that we need a means to safely access the server which we will establish using SSH keys which will be created on instance launch. We will store the private part, the Secret Access key locally and assign it to our CLI sessions when we establish the connection. In a next stage I would use the EC2 Instance Connect feature, which handles the SSH key handling for me, but for now we go with the most basic setting.

- **Networking:** I understand that we use FastAPI to act as a web framework for our Python app and for this web framework to be hosted we need an ASGI (Asynchronous Server Gateway Interface) which is uvicorn by default when installing the standard version of FastAPI. I don't understand the realtion of FastAPI to worker fully but as far as I understand the command to start uvicorn from my app is `uvicorn.run()`and then I need to specify, where in which file it finds my app function, in our case `main.py` and the app function is called `app`, we need to define on which port it is running, in this case `8000` and we want the server to reload automatically, e.g. when the `main.py` is updated. I know we need to define a host IP and its uvicorn default is `127.0.0.1` but we set it to `0.0.0.0` for the public deployment. I found online that the latter means making it externally available and that it binds the(/a?) socket to this host. I don't exactly know what a socket is. 